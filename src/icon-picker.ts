import { FuzzySuggestModal, setIcon, type FuzzyMatch } from "obsidian";
import BetterDailyNotes from "./main";

// Comprehensive list of Lucide icons available in Obsidian
const LUCIDE_ICONS = [
  "air-vent",
  "alarm-check",
  "alarm-clock",
  "alarm-clock-off",
  "alarm-minus",
  "alarm-plus",
  "album",
  "alert-circle",
  "alert-octagon",
  "alert-triangle",
  "align-center",
  "align-center-horizontal",
  "align-center-vertical",
  "align-end-horizontal",
  "align-end-vertical",
  "align-horizontal-distribute-center",
  "align-horizontal-distribute-end",
  "align-horizontal-distribute-start",
  "align-horizontal-justify-center",
  "align-horizontal-justify-end",
  "align-horizontal-justify-start",
  "align-horizontal-space-around",
  "align-horizontal-space-between",
  "align-justify",
  "align-left",
  "align-right",
  "align-start-horizontal",
  "align-start-vertical",
  "align-vertical-distribute-center",
  "align-vertical-distribute-end",
  "align-vertical-distribute-start",
  "align-vertical-justify-center",
  "align-vertical-justify-end",
  "align-vertical-justify-start",
  "align-vertical-space-around",
  "align-vertical-space-between",
  "anchor",
  "angry",
  "annoyed",
  "aperture",
  "apple",
  "archive",
  "archive-restore",
  "armchair",
  "arrow-big-down",
  "arrow-big-left",
  "arrow-big-right",
  "arrow-big-up",
  "arrow-down",
  "arrow-down-circle",
  "arrow-down-left",
  "arrow-down-right",
  "arrow-left",
  "arrow-left-circle",
  "arrow-left-right",
  "arrow-right",
  "arrow-right-circle",
  "arrow-up",
  "arrow-up-circle",
  "arrow-up-down",
  "arrow-up-left",
  "arrow-up-right",
  "asterisk",
  "at-sign",
  "award",
  "axe",
  "axis-3d",
  "baby",
  "backpack",
  "badge",
  "badge-alert",
  "badge-check",
  "badge-dollar-sign",
  "badge-help",
  "badge-info",
  "badge-minus",
  "badge-percent",
  "badge-plus",
  "badge-x",
  "bag-claim",
  "banana",
  "banknote",
  "bar-chart",
  "bar-chart-2",
  "bar-chart-3",
  "bar-chart-4",
  "bar-chart-horizontal",
  "barcode",
  "baseline",
  "bath",
  "battery",
  "battery-charging",
  "battery-full",
  "battery-low",
  "battery-medium",
  "battery-warning",
  "beaker",
  "bed",
  "bed-double",
  "bed-single",
  "beer",
  "bell",
  "bell-minus",
  "bell-off",
  "bell-plus",
  "bell-ring",
  "bike",
  "binary",
  "binoculars",
  "bitcoin",
  "bluetooth",
  "bluetooth-connected",
  "bluetooth-off",
  "bluetooth-searching",
  "bold",
  "bomb",
  "bone",
  "book",
  "book-copy",
  "book-down",
  "book-key",
  "book-lock",
  "book-marked",
  "book-minus",
  "book-open",
  "book-open-check",
  "book-open-text",
  "book-plus",
  "book-up",
  "book-up-2",
  "book-x",
  "bookmark",
  "bookmark-check",
  "bookmark-minus",
  "bookmark-plus",
  "bookmark-x",
  "bot",
  "box",
  "box-select",
  "boxes",
  "brackets",
  "brain",
  "briefcase",
  "brush",
  "bug",
  "building",
  "building-2",
  "bus",
  "cake",
  "calculator",
  "calendar",
  "calendar-check",
  "calendar-check-2",
  "calendar-clock",
  "calendar-days",
  "calendar-heart",
  "calendar-minus",
  "calendar-off",
  "calendar-plus",
  "calendar-range",
  "calendar-search",
  "calendar-x",
  "calendar-x-2",
  "camera",
  "camera-off",
  "candy",
  "car",
  "carrot",
  "cast",
  "check",
  "check-check",
  "check-circle",
  "check-circle-2",
  "check-square",
  "chef-hat",
  "cherry",
  "chevron-down",
  "chevron-first",
  "chevron-last",
  "chevron-left",
  "chevron-right",
  "chevron-up",
  "chevrons-down",
  "chevrons-down-up",
  "chevrons-left",
  "chevrons-right",
  "chevrons-up",
  "chevrons-up-down",
  "chrome",
  "circle",
  "circle-dashed",
  "circle-dot",
  "circle-ellipsis",
  "circle-equal",
  "circle-off",
  "circle-slash",
  "circle-slash-2",
  "circuit-board",
  "citrus",
  "clapperboard",
  "clipboard",
  "clipboard-check",
  "clipboard-copy",
  "clipboard-edit",
  "clipboard-list",
  "clipboard-paste",
  "clipboard-signature",
  "clipboard-type",
  "clipboard-x",
  "clock",
  "clock-1",
  "clock-2",
  "clock-3",
  "clock-4",
  "clock-5",
  "clock-6",
  "clock-7",
  "clock-8",
  "clock-9",
  "clock-10",
  "clock-11",
  "clock-12",
  "cloud",
  "cloud-cog",
  "cloud-drizzle",
  "cloud-fog",
  "cloud-hail",
  "cloud-lightning",
  "cloud-moon",
  "cloud-moon-rain",
  "cloud-off",
  "cloud-rain",
  "cloud-rain-wind",
  "cloud-snow",
  "cloud-sun",
  "cloud-sun-rain",
  "cloudy",
  "clover",
  "code",
  "code-2",
  "codepen",
  "codesandbox",
  "coffee",
  "cog",
  "coins",
  "columns",
  "command",
  "compass",
  "component",
  "computer",
  "contact",
  "contrast",
  "cookie",
  "copy",
  "copy-check",
  "copy-minus",
  "copy-plus",
  "copy-slash",
  "copy-x",
  "copyleft",
  "copyright",
  "corner-down-left",
  "corner-down-right",
  "corner-left-down",
  "corner-left-up",
  "corner-right-down",
  "corner-right-up",
  "corner-up-left",
  "corner-up-right",
  "cpu",
  "credit-card",
  "croissant",
  "crop",
  "cross",
  "crosshair",
  "crown",
  "cup-soda",
  "curly-braces",
  "currency",
  "database",
  "delete",
  "diamond",
  "dice-1",
  "dice-2",
  "dice-3",
  "dice-4",
  "dice-5",
  "dice-6",
  "dices",
  "diff",
  "disc",
  "divide",
  "divide-circle",
  "divide-square",
  "dollar-sign",
  "download",
  "download-cloud",
  "dribbble",
  "droplet",
  "droplets",
  "drumstick",
  "edit",
  "edit-2",
  "edit-3",
  "egg",
  "egg-fried",
  "equal",
  "equal-not",
  "eraser",
  "euro",
  "expand",
  "external-link",
  "eye",
  "eye-off",
  "facebook",
  "factory",
  "fan",
  "fast-forward",
  "feather",
  "figma",
  "file",
  "file-archive",
  "file-audio",
  "file-audio-2",
  "file-axis-3d",
  "file-badge",
  "file-badge-2",
  "file-bar-chart",
  "file-bar-chart-2",
  "file-box",
  "file-check",
  "file-check-2",
  "file-clock",
  "file-code",
  "file-code-2",
  "file-cog",
  "file-cog-2",
  "file-diff",
  "file-digit",
  "file-down",
  "file-edit",
  "file-heart",
  "file-image",
  "file-input",
  "file-json",
  "file-json-2",
  "file-key",
  "file-key-2",
  "file-line-chart",
  "file-lock",
  "file-lock-2",
  "file-minus",
  "file-minus-2",
  "file-output",
  "file-pie-chart",
  "file-plus",
  "file-plus-2",
  "file-question",
  "file-scan",
  "file-search",
  "file-search-2",
  "file-signature",
  "file-spreadsheet",
  "file-symlink",
  "file-terminal",
  "file-text",
  "file-type",
  "file-type-2",
  "file-up",
  "file-video",
  "file-video-2",
  "file-volume",
  "file-volume-2",
  "file-warning",
  "file-x",
  "file-x-2",
  "files",
  "film",
  "filter",
  "fingerprint",
  "fire",
  "fish",
  "flag",
  "flag-off",
  "flag-triangle-left",
  "flag-triangle-right",
  "flame",
  "flashlight",
  "flashlight-off",
  "flask-conical",
  "flask-round",
  "flip-horizontal",
  "flip-horizontal-2",
  "flip-vertical",
  "flip-vertical-2",
  "flower",
  "flower-2",
  "focus",
  "folder",
  "folder-archive",
  "folder-check",
  "folder-clock",
  "folder-closed",
  "folder-cog",
  "folder-cog-2",
  "folder-down",
  "folder-edit",
  "folder-heart",
  "folder-input",
  "folder-key",
  "folder-lock",
  "folder-minus",
  "folder-open",
  "folder-output",
  "folder-plus",
  "folder-search",
  "folder-search-2",
  "folder-symlink",
  "folder-tree",
  "folder-up",
  "folder-x",
  "folders",
  "form-input",
  "forward",
  "frame",
  "framer",
  "frown",
  "fuel",
  "function-square",
  "gamepad",
  "gamepad-2",
  "gauge",
  "gavel",
  "gem",
  "ghost",
  "gift",
  "git-branch",
  "git-branch-plus",
  "git-commit",
  "git-compare",
  "git-fork",
  "git-merge",
  "git-pull-request",
  "git-pull-request-closed",
  "git-pull-request-draft",
  "github",
  "gitlab",
  "glass",
  "glass-2",
  "glass-water",
  "glasses",
  "globe",
  "globe-2",
  "grab",
  "graduation-cap",
  "grape",
  "grid",
  "grip-horizontal",
  "grip-vertical",
  "hammer",
  "hand",
  "hand-metal",
  "hard-drive",
  "hard-hat",
  "hash",
  "haze",
  "headphones",
  "heart",
  "heart-crack",
  "heart-handshake",
  "heart-off",
  "heart-pulse",
  "help-circle",
  "hexagon",
  "highlighter",
  "history",
  "home",
  "hourglass",
  "ice-cream",
  "image",
  "image-minus",
  "image-off",
  "image-plus",
  "import",
  "inbox",
  "indent",
  "indian-rupee",
  "infinity",
  "info",
  "inspect",
  "instagram",
  "italic",
  "japanese-yen",
  "joystick",
  "key",
  "keyboard",
  "lamp",
  "lamp-ceiling",
  "lamp-desk",
  "lamp-floor",
  "lamp-wall-down",
  "lamp-wall-up",
  "landmark",
  "languages",
  "laptop",
  "laptop-2",
  "lasso",
  "lasso-select",
  "laugh",
  "layers",
  "layout",
  "layout-dashboard",
  "layout-grid",
  "layout-list",
  "layout-template",
  "leaf",
  "library",
  "life-buoy",
  "lightbulb",
  "lightbulb-off",
  "line-chart",
  "link",
  "link-2",
  "link-2-off",
  "linkedin",
  "list",
  "list-checks",
  "list-end",
  "list-minus",
  "list-music",
  "list-ordered",
  "list-plus",
  "list-start",
  "list-todo",
  "list-tree",
  "list-video",
  "list-x",
  "loader",
  "loader-2",
  "locate",
  "locate-fixed",
  "locate-off",
  "lock",
  "log-in",
  "log-out",
  "luggage",
  "magnet",
  "mail",
  "mail-check",
  "mail-minus",
  "mail-open",
  "mail-plus",
  "mail-question",
  "mail-search",
  "mail-warning",
  "mail-x",
  "mails",
  "map",
  "map-pin",
  "map-pin-off",
  "maximize",
  "maximize-2",
  "medal",
  "megaphone",
  "megaphone-off",
  "meh",
  "menu",
  "message-circle",
  "message-square",
  "mic",
  "mic-2",
  "mic-off",
  "microscope",
  "microwave",
  "milestone",
  "minimize",
  "minimize-2",
  "minus",
  "minus-circle",
  "minus-square",
  "monitor",
  "monitor-off",
  "monitor-speaker",
  "moon",
  "more-horizontal",
  "more-vertical",
  "mountain",
  "mountain-snow",
  "mouse",
  "mouse-pointer",
  "mouse-pointer-2",
  "mouse-pointer-click",
  "move",
  "move-diagonal",
  "move-diagonal-2",
  "move-horizontal",
  "move-vertical",
  "music",
  "navigation",
  "navigation-2",
  "navigation-2-off",
  "navigation-off",
  "network",
  "newspaper",
  "octagon",
  "option",
  "outdent",
  "package",
  "package-2",
  "package-check",
  "package-minus",
  "package-open",
  "package-plus",
  "package-search",
  "package-x",
  "paintbrush",
  "paintbrush-2",
  "palette",
  "palmtree",
  "paperclip",
  "parking-circle",
  "parking-circle-off",
  "parking-square",
  "parking-square-off",
  "party-popper",
  "pause",
  "pause-circle",
  "pause-octagon",
  "pen-tool",
  "pencil",
  "percent",
  "person-standing",
  "phone",
  "phone-call",
  "phone-forwarded",
  "phone-incoming",
  "phone-missed",
  "phone-off",
  "phone-outgoing",
  "pie-chart",
  "pig-bank",
  "pilcrow",
  "pill",
  "pin",
  "pin-off",
  "pipette",
  "pizza",
  "plane",
  "play",
  "play-circle",
  "plug",
  "plug-2",
  "plus",
  "plus-circle",
  "plus-square",
  "pocket",
  "podcast",
  "pointer",
  "pound-sterling",
  "power",
  "power-off",
  "printer",
  "puzzle",
  "qr-code",
  "quote",
  "radio",
  "radio-receiver",
  "rectangle-horizontal",
  "rectangle-vertical",
  "recycle",
  "redo",
  "redo-2",
  "refresh-ccw",
  "refresh-cw",
  "refrigerator",
  "regex",
  "repeat",
  "repeat-1",
  "reply",
  "reply-all",
  "rewind",
  "rocket",
  "rocking-chair",
  "rotate-3d",
  "rotate-ccw",
  "rotate-cw",
  "rss",
  "ruler",
  "russian-ruble",
  "save",
  "save-all",
  "scale",
  "scale-3d",
  "scaling",
  "scan",
  "scan-face",
  "scan-line",
  "scissors",
  "screen-share",
  "screen-share-off",
  "scroll",
  "search",
  "send",
  "separator-horizontal",
  "separator-vertical",
  "server",
  "server-cog",
  "server-crash",
  "server-off",
  "settings",
  "settings-2",
  "share",
  "share-2",
  "sheet",
  "shield",
  "shield-alert",
  "shield-check",
  "shield-close",
  "shield-off",
  "shirt",
  "shopping-bag",
  "shopping-cart",
  "shovel",
  "shower-head",
  "shrink",
  "shrub",
  "shuffle",
  "sidebar",
  "sidebar-close",
  "sidebar-open",
  "sigma",
  "signal",
  "signal-high",
  "signal-low",
  "signal-medium",
  "signal-zero",
  "siren",
  "skip-back",
  "skip-forward",
  "skull",
  "slack",
  "slash",
  "slice",
  "sliders",
  "sliders-horizontal",
  "smartphone",
  "smartphone-charging",
  "smile",
  "smile-plus",
  "snowflake",
  "sofa",
  "sort-asc",
  "sort-desc",
  "speaker",
  "sprout",
  "square",
  "star",
  "star-half",
  "star-off",
  "stethoscope",
  "sticker",
  "sticky-note",
  "stop-circle",
  "store",
  "stretch-horizontal",
  "stretch-vertical",
  "strikethrough",
  "subscript",
  "sun",
  "sun-dim",
  "sun-medium",
  "sun-moon",
  "sun-snow",
  "sunrise",
  "sunset",
  "superscript",
  "swiss-franc",
  "switch-camera",
  "sword",
  "swords",
  "syringe",
  "table",
  "table-2",
  "tablet",
  "tag",
  "tags",
  "target",
  "tent",
  "terminal",
  "terminal-square",
  "text-cursor",
  "text-cursor-input",
  "thermometer",
  "thermometer-snowflake",
  "thermometer-sun",
  "thumbs-down",
  "thumbs-up",
  "ticket",
  "timer",
  "timer-off",
  "timer-reset",
  "toggle-left",
  "toggle-right",
  "tornado",
  "toy-brick",
  "train",
  "trash",
  "trash-2",
  "tree-deciduous",
  "tree-pine",
  "trees",
  "trello",
  "trending-down",
  "trending-up",
  "triangle",
  "trophy",
  "truck",
  "tv",
  "tv-2",
  "twitch",
  "twitter",
  "type",
  "umbrella",
  "underline",
  "undo",
  "undo-2",
  "unlink",
  "unlink-2",
  "unlock",
  "upload",
  "upload-cloud",
  "usb",
  "user",
  "user-check",
  "user-cog",
  "user-minus",
  "user-plus",
  "user-x",
  "users",
  "utensils",
  "utensils-crossed",
  "utility-pole",
  "variable",
  "vegan",
  "venetian-mask",
  "vibrate",
  "vibrate-off",
  "video",
  "video-off",
  "view",
  "voicemail",
  "volume",
  "volume-1",
  "volume-2",
  "volume-x",
  "wallet",
  "wand",
  "wand-2",
  "watch",
  "waves",
  "webcam",
  "webhook",
  "wifi",
  "wifi-off",
  "wind",
  "wine",
  "wrap-text",
  "wrench",
  "x",
  "x-circle",
  "x-octagon",
  "x-square",
  "youtube",
  "zap",
  "zap-off",
  "zoom-in",
  "zoom-out",
];

export class IconPickerModal extends FuzzySuggestModal<string> {
  private onChoose: (icon: string) => void;

  constructor(plugin: BetterDailyNotes, onChoose: (icon: string) => void) {
    super(plugin.app);
    this.onChoose = onChoose;
    this.setPlaceholder("Type to search for an icon...");
  }

  getItems(): string[] {
    return LUCIDE_ICONS;
  }

  getItemText(item: string): string {
    return item;
  }

  onChooseItem(item: string, evt: MouseEvent | KeyboardEvent): void {
    this.onChoose(item);
  }

  renderSuggestion(fuzzy: FuzzyMatch<string>, el: HTMLElement): void {
    const container = el.createDiv({ cls: "icon-picker-suggestion" });

    const iconContainer = container.createDiv({ cls: "icon-picker-icon" });
    setIcon(iconContainer, fuzzy.item);

    container.createDiv({ text: fuzzy.item, cls: "icon-picker-text" });
  }
}

